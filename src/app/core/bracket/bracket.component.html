<div class="contain">
  <form [formGroup]="bracketForm" (ngSubmit)="submitBracket()">
    <div class="row" *ngIf="isDetailMode()">
      <div class="col-md">
        <button type="button" class="btn btn-outline-secondary" routerLink="/"><span class="fa fa-reply pr-2"></span>Return to Scoreboard</button>
      </div>
      <div class="col-md text-right">
        <button type="button" class="btn btn-outline-primary" (click)="editBracket()"><span class="fa fa-pencil-square-o pr-2"></span>Edit Bracket</button>
      </div>
    </div>

    <div class="row" *ngIf="!isDetailMode()">
      <div class="col-md">
        <button type="button" class="btn btn-outline-secondary" (click)="cancel()">Cancel</button>
      </div>
      <div class="col-md text-right">
        <button type="submit" class="btn btn-success" [disabled]="!bracketForm.valid">Save</button>
      </div>
    </div>

    <div class="row mt-4 justify-content-center">
      <div class="col-md-6 text-center">
        <div class="form-group mt-3" *ngIf="!isDetailMode()">
          <input type="text"
                 id="bracketName"
                 class="form-control text-center"
                 [ngClass]="{ error: !bracketForm.controls['bracketName'].valid, success: bracketForm.controls['bracketName'].valid }"
                 placeholder="Bracket Name"
                 formControlName="bracketName" />
          <span class="text-danger small" [hidden]="!isBracketNameTaken()">Bracket name already exists -- choose another name</span>
        </div>
        <h5 class="bracket-name" [innerText]="bracket?.name" *ngIf="isDetailMode()"></h5>
      </div>
    </div>

    <div class="row">
      <div class="col-md text-center">
        <div class="float-center">
          <p>Stanley Cup Champions</p>
          <p></p>
        </div>
      </div>
    </div>
    <div class="row bracket">
      <div class="col-md bracket-left">
        <div class="row">
          <!-- Round 1 -->
          <div class="col-sm bracket-round round-1">
            <div class="row" *ngFor="let matchup of bracket.conferences[0].divisions[0].rounds[0].matchups">
              <div class="col-sm bracket-matchup">
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-top">
                    <span class="bracket-team-name">
                      {{ matchup.topSeed.seed }} - {{ matchup.topSeed.name }}
                    </span>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-bottom">
                    <span class="bracket-team-name">
                      {{ matchup.bottomSeed.seed }} - {{ matchup.bottomSeed.name }}
                    </span>
                  </div>
                </div>
              </div>
            </div>
            <div class="row" *ngFor="let matchup of bracket.conferences[0].divisions[1].rounds[0].matchups">
              <div class="col-sm bracket-matchup">
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-top">
                    <span class="bracket-team-name">
                      {{ matchup.topSeed.seed }} - {{ matchup.topSeed.name }}
                    </span>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-bottom">
                    <span class="bracket-team-name">
                      {{ matchup.bottomSeed.seed }} - {{ matchup.bottomSeed.name }}
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Round 2 -->
          <div class="col-sm bracket-round round-2">
            <div class="row">
              <div class="col-sm bracket-matchup">
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-top">
                    <span class="bracket-team-name"></span>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-bottom">
                    <span class="bracket-team-name"></span>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm bracket-matchup">
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-top">
                    <span class="bracket-team-name"></span>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-bottom">
                    <span class="bracket-team-name"></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Round 3 -->
          <div class="col-sm bracket-round round-3">
            <div class="row">
              <div class="col-sm bracket-matchup">
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-top">
                    <span class="bracket-team-name"></span>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-bottom">
                    <span class="bracket-team-name"></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Round 4 -->
          <div class="col-sm bracket-round round-4">
            <div class="row">
              <div class="col-sm bracket-matchup">
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-top">
                    <span class="bracket-team-name"></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-1"></div>
      <div class="col-md bracket-right">
        <div class="row">
          <!-- Round 4 -->
          <div class="col-sm bracket-round round-4">
            <div class="row">
              <div class="col-sm bracket-matchup">
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-top">
                    <span class="bracket-team-name"></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Round 3 -->
          <div class="col-sm bracket-round round-3">
            <div class="row">
              <div class="col-sm bracket-matchup">
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-top">
                    <span class="bracket-team-name"></span>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-bottom">
                    <span class="bracket-team-name"></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Round 2 -->
          <div class="col-sm bracket-round round-2">
            <div class="row">
              <div class="col-sm bracket-matchup">
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-top">
                    <span class="bracket-team-name"></span>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-bottom">
                    <span class="bracket-team-name"></span>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm bracket-matchup">
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-top">
                    <span class="bracket-team-name"></span>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-bottom">
                    <span class="bracket-team-name"></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Round 1 -->
          <div class="col-sm bracket-round round-1">
            <div class="row" *ngFor="let matchup of bracket.conferences[1].divisions[0].rounds[0].matchups">
              <div class="col-sm bracket-matchup">
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-top">
                    <span class="bracket-team-name">
                      {{ matchup.topSeed.seed }} - {{ matchup.topSeed.name }}
                    </span>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-bottom">
                    <span class="bracket-team-name">
                      {{ matchup.bottomSeed.seed }} - {{ matchup.bottomSeed.name }}
                    </span>
                  </div>
                </div>
              </div>
            </div>
            <div class="row" *ngFor="let matchup of bracket.conferences[1].divisions[1].rounds[0].matchups">
              <div class="col-sm bracket-matchup">
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-top">
                    <span class="bracket-team-name">
                      {{ matchup.topSeed.seed }} - {{ matchup.topSeed.name }}
                    </span>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm bracket-team bracket-team-bottom">
                    <span class="bracket-team-name">
                      {{ matchup.bottomSeed.seed }} - {{ matchup.bottomSeed.name }}
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
